#
# ==============================
# OpenWrt 编译配置文件 (.config)
# 平台：Qualcomm IPQ807x (Aliyun AP8220)
# 用途：高性能路由 + 科学上网 + 广告过滤 + 云存储 + 游戏加速 + NSS硬件加速
# ==============================
#

# ————————————————————————————————
# 设备平台定义（阿里云 AP8220）
# ————————————————————————————————
CONFIG_TARGET_qualcommax=y
CONFIG_TARGET_qualcommax_ipq807x=y
CONFIG_TARGET_DEVICE_qualcommax_ipq807x_DEVICE_aliyun_ap8220=y

# ————————————————————————————————
# Web 管理界面（LuCI）
# ————————————————————————————————
#CONFIG_PACKAGE_luci=y
#CONFIG_PACKAGE_luci-light=y
#CONFIG_PACKAGE_luci-mod-admin-full=y
#CONFIG_PACKAGE_luci-mod-network=y
#CONFIG_PACKAGE_luci-proto-ipv6=y
#CONFIG_PACKAGE_luci-protyo-ppp=y
#CONFIG_PACKAGE_luci-app-firewall=y
#CONFIG_PACKAGE_luci-app-package-manager=y
#CONFIG_PACKAGE_rpcd-mod-iwinfo=y
#CONFIG_PACKAGE_rpcd-mod-rrdns=y
#CONFIG_PACKAGE_uhttpd=y
#CONFIG_PACKAGE_uhttpd-mod-ubus=y

# ————————————————————————————————
# 主题与语言（中文支持）
# ————————————————————————————————
#CONFIG_PACKAGE_luci-theme-bootstrap=y          # 默认 Bootstrap 主题
#CONFIG_PACKAGE_luci-theme-material=y           # Material Design 主题
#CONFIG_PACKAGE_luci-theme-argon=y              # Argon 现代化主题（推荐）
#CONFIG_PACKAGE_luci-app-argon-config=y         # Argon 主题配置插件

#CONFIG_PACKAGE_luci-i18n-base-zh-cn=y          # LuCI 基础简体中文包
#CONFIG_PACKAGE_luci-i18n-firewall-zh-cn=y      # 防火墙中文
#CONFIG_PACKAGE_luci-i18n-passwall-zh-cn=y      # PassWall 中文
#CONFIG_PACKAGE_luci-i18n-adblock-zh-cn=y       # Adblock 中文

# ————————————————————————————————
# 网络基础功能
# ————————————————————————————————
#CONFIG_PACKAGE_luci-app-guest-wifi=y           # 访客 Wi-Fi（隔离内网）
#CONFIG_PACKAGE_luci-app-upnp=y                 # UPnP 自动端口映射
#CONFIG_PACKAGE_luci-app-sqm=y                  # SQM 智能队列管理（解决 Bufferbloat）
#CONFIG_PACKAGE_sqm-scripts=y                   # SQM 脚本支持
#CONFIG_PACKAGE_luci-app-mwan3=y                # 多 WAN 负载均衡
#CONFIG_PACKAGE_mwan3=y                         # MWAN3 核心
#CONFIG_PACKAGE_luci-app-mwan3helper=y          # MWAN3 辅助工具
#CONFIG_PACKAGE_luci-app-easymesh=y             # EasyMesh 无线组网支持
#CONFIG_PACKAGE_luci-app-onliner=y              # 设备在线状态监控
#CONFIG_PACKAGE_luci-app-commands=y             # 自定义命令执行
#CONFIG_PACKAGE_luci-app-attendedsysupgrade=y   # 在线固件升级助手
#CONFIG_PACKAGE_luci-app-netspeedtest=y         # 网速测试插件
#CONFIG_PACKAGE_netspeedtest=y                  # 网速测试后端

# ————————————————————————————————
# Wi-Fi 与认证协议栈（全功能）
# ————————————————————————————————
#CONFIG_PACKAGE_wpad=y
#CONFIG_PACKAGE_hostapd=y
#CONFIG_PACKAGE_wpad-mesh-wolfssl=y             # Mesh 支持（wolfSSL 加密）
#CONFIG_PACKAGE_wpad-full-mbedtls=y             # 完整版 wpa_supplicant（支持 EAP、漫游等）

# ————————————————————————————————
# DNS 与广告过滤
# ————————————————————————————————
# AdGuard Home（全局广告/跟踪器拦截 + 家长控制）
#CONFIG_PACKAGE_adguardhome=y
#CONFIG_PACKAGE_luci-app-adguardhome=y

# Adblock（传统 hosts 方式）
#CONFIG_PACKAGE_adblock=y
#CONFIG_PACKAGE_luci-app-adblock=y

# SmartDNS（智能 DNS 解析，支持 DoH/DoT/EDNS）
#CONFIG_PACKAGE_luci-app-smartdns=y

# ————————————————————————————————
# 科学上网（代理工具全家桶）
# ————————————————————————————————
# 推荐主用：PassWall2（轻量、更新快）
#CONFIG_PACKAGE_luci-app-passwall2=y
#CONFIG_PACKAGE_v2ray-core=y
#CONFIG_PACKAGE_xray-core=y
#CONFIG_PACKAGE_sing-box=y
#CONFIG_PACKAGE_trojan-go=y
#CONFIG_PACKAGE_hysteria=y
#CONFIG_PACKAGE_naiveproxy=y
#CONFIG_PACKAGE_chinadns-ng=y
#CONFIG_PACKAGE_dnsproxy=y
#CONFIG_PACKAGE_pdnsd-alt=y

# 兼容旧版（可选）
#CONFIG_PACKAGE_luci-app-passwall=y             # PassWall（旧版）
#CONFIG_PACKAGE_luci-app-openclash=y            # OpenClash（Clash 内核）
#CONFIG_PACKAGE_luci-app-vssr=y                 # VSSR（SSR Plus+）

# 协议与混淆插件
#CONFIG_PACKAGE_trojan=y
#CONFIG_PACKAGE_shadowsocks-rust-sslocal=y
#CONFIG_PACKAGE_shadowsocksr-libev-ssr-redir=y
#CONFIG_PACKAGE_simple-obfs=y
#CONFIG_PACKAGE_v2ray-plugin=y
#CONFIG_PACKAGE_brook=y
#CONFIG_PACKAGE_ehproxy=y
#CONFIG_PACKAGE_dae=y                           # DAE 高性能代理框架（实验性）

# 分流依赖库
#CONFIG_PACKAGE_geoip-datadir=y                 # GeoIP 地理数据库
#CONFIG_PACKAGE_c-ares=y                        # 异步 DNS 库
#CONFIG_PACKAGE_libev=y                         # 事件驱动库（SSR 依赖）
#CONFIG_PACKAGE_libcap=y                        # 权限控制
#CONFIG_PACKAGE_libmbedtls=y                    # 加密库（TLS 支持）

# 透明代理辅助工具
#CONFIG_PACKAGE_ipt2socks=y                     # iptables 转 Socks5
#CONFIG_PACKAGE_kmod-ipt-nat=y                  # NAT 内核模块
#CONFIG_PACKAGE_ip6tables-extra=y               # IPv6 防火墙扩展

# ————————————————————————————————
# 网易云音乐解锁
# ————————————————————————————————
#CONFIG_PACKAGE_UnblockNeteaseMusic-Go=y
#CONFIG_PACKAGE_luci-app-unblockneteasemusic=y

# ————————————————————————————————
# 云存储与文件管理
# ————————————————————————————————
#CONFIG_PACKAGE_alist=y
#CONFIG_PACKAGE_luci-app-alist=y
#CONFIG_PACKAGE_go-aliyundrive-webdav=y
#CONFIG_PACKAGE_luci-app-go-aliyundrive-webdav=y
#CONFIG_PACKAGE_filebrowser=y
#CONFIG_PACKAGE_luci-app-filebrowser=y
#CONFIG_PACKAGE_luci-app-baidupcs-web=y                  #百度网盘

# ————————————————————————————————
# 下载工具
# ————————————————————————————————
#CONFIG_PACKAGE_aria2=y
#CONFIG_PACKAGE_ariang=y
#CONFIG_PACKAGE_transmission-daemon=y
#CONFIG_PACKAGE_luci-app-transmission=y

# ————————————————————————————————
# 动态 DNS（DDNS）
# ————————————————————————————————
#CONFIG_PACKAGE_ddns-go=y
#CONFIG_PACKAGE_luci-app-ddns-go=y
#CONFIG_PACKAGE_luci-app-ddns=y                 # 官方 DDNS 插件（兼容更多服务商）
#CONFIG_PACKAGE_ddns-scripts=y
#CONFIG_PACKAGE_ddns-scripts_services=y

# ————————————————————————————————
# 远程管理与终端
# ————————————————————————————————
#CONFIG_PACKAGE_luci-app-ttyd=y                 # Web 终端（浏览器内执行命令）
#CONFIG_PACKAGE_luci-lib-xterm=y                # Web 终端支持库
#CONFIG_PACKAGE_luci-lib-taskd=y                # 定时任务调度库
#CONFIG_PACKAGE_luci-app-rpcd-mod-https=y       # 安全远程 API（HTTPS）

# ————————————————————————————————
# 游戏与网络加速
# ————————————————————————————————
#CONFIG_PACKAGE_LingTiGameAcc=y                 # 凌天游戏加速器（需账号）
#CONFIG_PACKAGE_luci-app-LingTiGameAcc=y
#CONFIG_PACKAGE_fullconenat=y                   # 全锥型 NAT（旧版）
#CONFIG_PACKAGE_fullconenat-nft=y               # 全锥型 NAT（nftables 新版）
#CONFIG_PACKAGE_natflow=y                       # 高性能流表加速（提升转发效率）
#CONFIG_PACKAGE_easytier=y                      # WireGuard 内网穿透组网
#CONFIG_PACKAGE_luci-app-easytier=y

# ————————————————————————————————
# WireGuard 支持
# ————————————————————————————————
CONFIG_PACKAGE_kmod-wireguard=y
CONFIG_PACKAGE_wireguard-tools=y
CONFIG_PACKAGE_luci-proto-wireguard=y

# ————————————————————————————————
# NSS 硬件加速（IPQ807x 关键性能优化！）
# ————————————————————————————————
#CONFIG_PACKAGE_kmod-qca-nss-dp=y               # NSS 数据平面驱动（必须）
#CONFIG_PACKAGE_kmod-qca-nss-ecm-standard=y     # ECM 标准加速（NAT/路由卸载）
#CONFIG_PACKAGE_kmod-qca-nss-gmac=y             # GMAC 网口硬件卸载（2.5G 性能关键）
#CONFIG_PACKAGE_kmod-qca-nss-cfi-crypto=y       # NSS 加密加速（IPsec）
#CONFIG_PACKAGE_nss-userspace=y                 # 用户态 NSS 工具（调试用）
#CONFIG_PACKAGE_luci-app-turboacc=y             # Turbo ACC 图形界面（一键启用加速）
#CONFIG_PACKAGE_kmod-shortcut-fe=y              # Shortcut-FE 软件流加速
#CONFIG_PACKAGE_kmod-shortcut-fe-drv=y          # Shortcut-FE 驱动

# ————————————————————————————————
# 内核特性（自动启用，显式声明更安全）
# ————————————————————————————————
#CONFIG_KERNEL_NET_FLOW_LIMIT=y                 # 网络流控支持（NSS 依赖）
#CONFIG_KERNEL_NETFILTER_XT_MATCH_PHYSDEV=y     # 物理设备匹配（复杂防火墙规则）
#CONFIG_PACKAGE_firewall4=y                     # 使用 nftables 防火墙（OpenWrt 23.05+ 默认）

# ————————————————————————————————
# 快速启动与工具
# ————————————————————————————————
#CONFIG_PACKAGE_quickstart=y                    # 快速网络配置向导

# ————————————————————————————————
# 晶晨盒子支持（Amlogic）
# ————————————————————————————————
#CONFIG_PACKAGE_luci-app-amlogic=y

# ————————————————————————————————
# 应用商店（方便后期安装插件）
# ————————————————————————————————
#CONFIG_PACKAGE_luci-app-store=y

# ————————————————————————————————
# 禁用不必要组件（节省空间 & 提升性能）
# ————————————————————————————————
CONFIG_PACKAGE_odhcpd-ipv6only=n               # 禁用仅 IPv6 DHCP
CONFIG_PACKAGE_ppp=n                           # 禁用 PPP（AP8220 通常桥接光猫）
CONFIG_PACKAGE_fail2ban=n
CONFIG_PACKAGE_flent=n
CONFIG_PACKAGE_python-babel=n
CONFIG_PACKAGE_python-docker=n
CONFIG_PACKAGE_python-incremental=n

# ————————————————————————————————
# 预初始化网络参数（串口恢复用）
# ————————————————————————————————
CONFIG_TARGET_PREINIT_IP="11.1.1.1"
CONFIG_TARGET_PREINIT_NETMASK="255.255.255.0"
CONFIG_TARGET_PREINIT_BROADCAST="11.1.1.255"

# ————————————————————————————————
# Docker 支持（默认禁用，按需启用）
# ————————————————————————————————
# CONFIG_PACKAGE_docker=y
# CONFIG_PACKAGE_dockerd=y
# CONFIG_PACKAGE_luci-app-dockerman=y
# CONFIG_PACKAGE_luci-i18n-docker-zh-cn=y
# CONFIG_PACKAGE_kmod-ipt-fullconenat=y
# CONFIG_PACKAGE_kmod-nf-ipvs=y
# CONFIG_PACKAGE_kmod-ipt-extra=y
# CONFIG_PACKAGE_kmod-ipt-nat6=y
# CONFIG_PACKAGE_kmod-ipt-physdev=y
# CONFIG_PACKAGE_luci-lib-docker=y
